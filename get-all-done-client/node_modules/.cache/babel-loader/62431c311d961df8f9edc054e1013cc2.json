{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/G_A_D-project/G_A_D-get-all-done-frontend/get-all-done-client/src/containers/App.js\";\nimport React, { Component } from 'react';\nimport Home from '../components/Home'; // import { Redirect, useHistory } from 'react-router-dom';\n// import { api } from '../services/api';\n// const PostsURL = \"http://localhost:3000/posts\"\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.onSignUp = () => {\n      this.setState({\n        signup: !this.state.signup,\n        login: false\n      });\n    };\n\n    this.onLogin = data => {\n      // this.setState({ auth: updatedState)}\n      // const updatedState = { ...this.state.auth, user: data };\n      // localStorage.setItem('token', data.jwt);\n      this.setState({\n        login: !this.state.login,\n        signup: false\n      });\n    };\n\n    this.onLoggedIn = () => {\n      this.setState({\n        loggedIn: true\n      });\n    };\n\n    this.onLogOut = () => {\n      localStorage.removeItem('token');\n      this.setState({\n        auth: {\n          user: {}\n        },\n        signup: false,\n        login: false,\n        posts: [],\n        loggedIn: false\n      }, window.location.replace(\"http://localhost:3001/\")); // this.setState({ signup: false, login: false, posts: [], loggedIn: false })\n    };\n\n    this.state = {\n      signup: false,\n      login: false,\n      loggedIn: false,\n      posts: [] // auth: {\n      //     user: {}\n      // }\n\n    };\n  } // componentDidMount() {\n  //     const token = localStorage.getItem('token');\n  //     if (token) {\n  //         // make a request to the backend and find our user\n  //         api.auth.getCurrentUser().then(user => {\n  //             console.log(user)\n  //             const updatedState = { ...this.state.auth, user: user };\n  //             this.setState({ auth: updatedState });\n  //         });\n  //     }\n  //     fetch(PostsURL)\n  //         .then(resp => resp.json())\n  //         .then(posts => {\n  //             console.log(posts)\n  //             this.setState({ posts: posts })\n  //         })\n  // }\n\n\n  render() {\n    let _this$state = this.state,\n        signup = _this$state.signup,\n        login = _this$state.login,\n        loggedIn = _this$state.loggedIn,\n        posts = _this$state.posts;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Home, {\n      signup: signup,\n      login: login,\n      loggedIn: loggedIn,\n      posts: posts,\n      onSignUp: this.onSignUp,\n      onLogin: this.onLogin,\n      onLoggedIn: this.onLoggedIn,\n      onLogOut: this.onLogOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/G_A_D-project/G_A_D-get-all-done-frontend/get-all-done-client/src/containers/App.js"],"names":["React","Component","Home","App","constructor","onSignUp","setState","signup","state","login","onLogin","data","onLoggedIn","loggedIn","onLogOut","localStorage","removeItem","auth","user","posts","window","location","replace","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,oBAAjB,C,CACA;AACA;AAEA;;AACA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AACxBG,EAAAA,WAAW,GAAG;AACV;;AADU,SAgCdC,QAhCc,GAgCH,MAAM;AACb,WAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAE,CAAC,KAAKC,KAAL,CAAWD,MAAtB;AAA8BE,QAAAA,KAAK,EAAE;AAArC,OAAd;AACH,KAlCa;;AAAA,SAoCdC,OApCc,GAoCHC,IAAD,IAAU;AAChB;AACA;AACA;AACA,WAAKL,QAAL,CAAc;AAAEG,QAAAA,KAAK,EAAE,CAAC,KAAKD,KAAL,CAAWC,KAArB;AAA4BF,QAAAA,MAAM,EAAE;AAApC,OAAd;AACH,KAzCa;;AAAA,SA2CdK,UA3Cc,GA2CD,MAAM;AACf,WAAKN,QAAL,CAAc;AAAEO,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACH,KA7Ca;;AAAA,SA+CdC,QA/Cc,GA+CH,MAAM;AACbC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACA,WAAKV,QAAL,CAAc;AAAEW,QAAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAR;AAAsBX,QAAAA,MAAM,EAAE,KAA9B;AAAqCE,QAAAA,KAAK,EAAE,KAA5C;AAAmDU,QAAAA,KAAK,EAAE,EAA1D;AAA8DN,QAAAA,QAAQ,EAAE;AAAxE,OAAd,EAA+FO,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,wBAAxB,CAA/F,EAFa,CAGb;AAEH,KApDa;;AAEV,SAAKd,KAAL,GAAa;AACTD,MAAAA,MAAM,EAAE,KADC;AAETE,MAAAA,KAAK,EAAE,KAFE;AAGTI,MAAAA,QAAQ,EAAE,KAHD;AAITM,MAAAA,KAAK,EAAE,EAJE,CAKT;AACA;AACA;;AAPS,KAAb;AASH,GAZuB,CAcxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAwBAI,EAAAA,MAAM,GAAG;AAAA,sBACoC,KAAKf,KADzC;AAAA,QACCD,MADD,eACCA,MADD;AAAA,QACSE,KADT,eACSA,KADT;AAAA,QACgBI,QADhB,eACgBA,QADhB;AAAA,QAC0BM,KAD1B,eAC0BA,KAD1B;AAEL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AACI,MAAA,MAAM,EAAEZ,MADZ;AAEI,MAAA,KAAK,EAAEE,KAFX;AAGI,MAAA,QAAQ,EAAEI,QAHd;AAII,MAAA,KAAK,EAAEM,KAJX;AAKI,MAAA,QAAQ,EAAE,KAAKd,QALnB;AAMI,MAAA,OAAO,EAAE,KAAKK,OANlB;AAOI,MAAA,UAAU,EAAE,KAAKE,UAPrB;AAQI,MAAA,QAAQ,EAAE,KAAKE,QARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAcH;;AAvEuB;;AA0E5B,eAAeX,GAAf","sourcesContent":["import React, { Component } from 'react'\nimport Home from '../components/Home'\n// import { Redirect, useHistory } from 'react-router-dom';\n// import { api } from '../services/api';\n\n// const PostsURL = \"http://localhost:3000/posts\"\nclass App extends Component {\n    constructor() {\n        super()\n        this.state = {\n            signup: false,\n            login: false,\n            loggedIn: false,\n            posts: [],\n            // auth: {\n            //     user: {}\n            // }\n        }\n    }\n\n    // componentDidMount() {\n    //     const token = localStorage.getItem('token');\n    //     if (token) {\n    //         // make a request to the backend and find our user\n    //         api.auth.getCurrentUser().then(user => {\n    //             console.log(user)\n    //             const updatedState = { ...this.state.auth, user: user };\n    //             this.setState({ auth: updatedState });\n    //         });\n    //     }\n\n    //     fetch(PostsURL)\n    //         .then(resp => resp.json())\n    //         .then(posts => {\n    //             console.log(posts)\n    //             this.setState({ posts: posts })\n    //         })\n    // }\n\n    onSignUp = () => {\n        this.setState({ signup: !this.state.signup, login: false })\n    }\n\n    onLogin = (data) => {\n        // this.setState({ auth: updatedState)}\n        // const updatedState = { ...this.state.auth, user: data };\n        // localStorage.setItem('token', data.jwt);\n        this.setState({ login: !this.state.login, signup: false });\n    }\n\n    onLoggedIn = () => {\n        this.setState({ loggedIn: true })\n    }\n\n    onLogOut = () => {\n        localStorage.removeItem('token');\n        this.setState({ auth: { user: {} }, signup: false, login: false, posts: [], loggedIn: false }, window.location.replace(\"http://localhost:3001/\"));\n        // this.setState({ signup: false, login: false, posts: [], loggedIn: false })\n\n    }\n\n    render() {\n        let { signup, login, loggedIn, posts } = this.state\n        return (\n            <div>\n                <Home\n                    signup={signup}\n                    login={login}\n                    loggedIn={loggedIn}\n                    posts={posts}\n                    onSignUp={this.onSignUp}\n                    onLogin={this.onLogin}\n                    onLoggedIn={this.onLoggedIn}\n                    onLogOut={this.onLogOut}\n                />\n            </div>\n        )\n    }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}