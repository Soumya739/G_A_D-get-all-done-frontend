{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/G_A_D-project/G_A_D-get-all-done-frontend/get-all-done-client/src/containers/PostEditForm.js\";\nimport React, { Component } from 'react'; // import { NavLink } from 'react-router-dom';\n\nimport { api } from '../services/api';\nimport { Redirect } from 'react-router-dom';\nexport class PostEditForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputData = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleEditFormSubmit = e => {\n      let post = this.props.post;\n      e.preventDefault();\n      api.posts.updatePosts(post.id, this.state).then(res => {\n        if (!res.error) {\n          this.setState({\n            submitted: !this.state.submitted\n          });\n        } else {\n          this.setState({\n            error: true,\n            errorReason: res.error\n          });\n        }\n      });\n    };\n\n    this.state = {\n      title: this.props.post.title,\n      description: this.props.post.description,\n      category: this.props.post.category,\n      submitted: false,\n      errorReason: \"\"\n    };\n  }\n\n  render() {\n    if (this.state.submitted === true) {\n      return React.createElement(Redirect, {\n        to: \"/timeline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    } else if (this.state.errorReason !== \"\") {\n      return React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"this.state.errorReason\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"space_between_lines\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Edit Post\", React.createElement(\"form\", {\n        onSubmit: e => this.handleEditFormSubmit(e),\n        className: \"space_between_lines\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Title:\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"title\",\n        id: \"title\",\n        onChange: e => this.handleInputData(e),\n        value: this.state.title,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Description:\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"description\",\n        id: \"description\",\n        onChange: e => this.handleInputData(e),\n        value: this.state.description,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Category:\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"category\",\n        id: \"category\",\n        onChange: e => this.handleInputData(e),\n        value: this.state.category,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.props.onEditPost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }\n\n}\nexport default PostEditForm;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/G_A_D-project/G_A_D-get-all-done-frontend/get-all-done-client/src/containers/PostEditForm.js"],"names":["React","Component","api","Redirect","PostEditForm","constructor","props","handleInputData","e","setState","target","id","value","handleEditFormSubmit","post","preventDefault","posts","updatePosts","state","then","res","error","submitted","errorReason","title","description","category","render","onEditPost"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import { NavLink } from 'react-router-dom';\nimport { api } from '../services/api'\nimport { Redirect } from 'react-router-dom'\n\nexport class PostEditForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: this.props.post.title,\n            description: this.props.post.description,\n            category: this.props.post.category,\n            submitted: false,\n            errorReason: \"\"\n        }\n    }\n\n    handleInputData = (e) => {\n        this.setState({ [e.target.id]: e.target.value })\n    }\n\n    handleEditFormSubmit = (e) => {\n        let { post } = this.props\n        e.preventDefault()\n        api.posts.updatePosts(post.id, this.state).then(res => {\n            if (!res.error) {\n                this.setState({ submitted: !this.state.submitted })\n            } else {\n                this.setState({ error: true, errorReason: res.error });\n            }\n        })\n    }\n\n    render() {\n        if (this.state.submitted === true) {\n            return <Redirect to=\"/timeline\" />\n        } else if (this.state.errorReason !== \"\") {\n            return <h2>this.state.errorReason</h2>\n        }\n        else {\n            return (\n                <div>\n                    <div className='space_between_lines'>\n                        Edit Post\n                <form onSubmit={(e) => this.handleEditFormSubmit(e)} className='space_between_lines'>\n                            <label>Title:</label>\n                            <input type='text' placeholder='title' id=\"title\" onChange={(e) => this.handleInputData(e)} value={this.state.title} required /><br />\n                            <label>Description:</label>\n                            <input type='text' placeholder='description' id=\"description\" onChange={(e) => this.handleInputData(e)} value={this.state.description} required /><br />\n                            <label>Category:</label>\n                            <input type='text' placeholder='category' id=\"category\" onChange={(e) => this.handleInputData(e)} value={this.state.category} required /><br />\n\n                            <input type='submit' value=\"Save\" />\n                        </form>\n                        {/* {this.state.submitted ? <h2>Submitted</h2> : <></>} */}\n                        <button onClick={this.props.onEditPost}>Cancel</button>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default PostEditForm\n"]},"metadata":{},"sourceType":"module"}