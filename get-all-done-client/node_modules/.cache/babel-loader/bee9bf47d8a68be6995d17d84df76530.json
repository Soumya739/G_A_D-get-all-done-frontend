{"ast":null,"code":"const API_ROOT = `http://localhost:3000/api/v1`;\nconst token = localStorage.getItem('token');\nconst URL = \"http://localhost:3000\";\nconst headers = {\n  'Content-Type': 'application/json',\n  Accepts: 'application/json',\n  Authorization: token\n};\n\nconst login = data => {\n  return fetch(`${API_ROOT}/auth`, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(data)\n  }).then(resp => resp.json());\n};\n\nconst getCurrentUser = () => {\n  console.log(\"getting current user\", headers);\n  return fetch(`${API_ROOT}/current_user`, {\n    headers\n  }).then(res => {\n    console.log(res);\n    return res.json();\n  });\n};\n\nconst currentUserStatus = userStatus => {\n  return userStatus;\n}; // const createUser = (data) => {\n//     fetch(URL + \"/users\", {\n//         method: \"POST\",\n//         headers,\n//         body: JSON.stringify({\n//             username: data.username,\n//             email: data.email,\n//             city: data.city,\n//             country: data.country,\n//             phone: data.phone,\n//             contractee: data.contractee,\n//             contractor: data.contractor\n//         })\n//     })\n//         .then(response => {\n//             console.log(\"res.json\", response.json())\n//             response.json();\n//         })\n//         .then(user => {\n//             console.log(user);\n//             if (user.contractor) {\n//                 createContractor(user, data)\n//                 // .then(currentUser => {\n//                 //     onSetCurrentUser(\"contractor\")\n//                 // })\n//             } else {\n//                 createContractee(user, data)\n//                 //         .then(currentUser => {\n//                 //             onSetCurrentUser(\"contractee\")\n//                 //         })\n//             }\n//         })\n// }\n\n\nconst createContractor = (user, data) => {\n  console.log(\"creating contractor\");\n  fetch(URL + \"/contractors\", {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      Accepts: 'application/json'\n    },\n    body: JSON.stringify({\n      user_id: user.id,\n      projects_completed: 0,\n      password: data.password,\n      services: data.services\n    })\n  }).then(response => response.json()).then(currentUserStatus(\"contractor\"));\n};\n\nconst createContractee = (user, data) => {\n  console.log(\"creating contractee\");\n  fetch(URL + \"/contractees\", {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      user_id: user.id,\n      password: data.password\n    })\n  }).then(response => response.json()).then(currentUserStatus(\"contractee\"));\n};\n\nexport const api = {\n  auth: {\n    login,\n    getCurrentUser\n  },\n  // paintings: {\n  //   getPaintings\n  // }\n  user: {\n    createUser,\n    currentUserStatus\n  }\n}; // fetch(URL + \"/users\", {\n//     method: \"POST\",\n//     headers: {\n//         'Content-Type': 'application/json',\n//         Accepts: 'application/json'\n//     },\n//     body: JSON.stringify({\n//         username: username,\n//         email: email,\n//         city: city,\n//         country: country,\n//         phone: phone,\n//         contractee: contractee,\n//         contractor: contractor\n//     })\n// }).then(handleErrors)\n//     .then(response => response.json())\n//     .then(user => {\n//         console.log(user);\n//         if (contractor) {\n//             // createContractor(user, data)\n//             console.log(\"creating contractor\")\n//             fetch(URL + \"/contractors\", {\n//                 method: \"POST\",\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     Accepts: 'application/json'\n//                 },\n//                 body: JSON.stringify({\n//                     user_id: user.id,\n//                     projects_completed: 0,\n//                     password: password,\n//                     services: services\n//                 })\n//             })\n//                 .then(handleErrors)\n//                 .then(response => response.json())\n//                 .then(json => {\n//                     console.log(json)\n//                     this.currentUserStatus(\"contractor\")\n//                 })\n//             // .then(currentUser => {\n//             //     onSetCurrentUser(\"contractor\")\n//             // })\n//         } else {\n//             // createContractee(user, data)\n//             console.log(\"creating contractee\")\n//             fetch(URL + \"/contractees\", {\n//                 method: \"POST\",\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     Accepts: 'application/json'\n//                 },\n//                 body: JSON.stringify({\n//                     user_id: user.id,\n//                     password: password\n//                 })\n//             }).then(handleErrors)\n//                 .then(response => response.json())\n//                 .then(json => {\n//                     console.log(json)\n//                     this.currentUserStatus(\"contractee\")\n//                 })\n//             //         .then(currentUser => {\n//             //             onSetCurrentUser(\"contractee\")\n//             //         }\n//         }\n//     })","map":{"version":3,"sources":["/Users/flatironschool/Desktop/G_A_D-project/G_A_D-get-all-done-frontend/get-all-done-client/src/services/api.js"],"names":["API_ROOT","token","localStorage","getItem","URL","headers","Accepts","Authorization","login","data","fetch","method","body","JSON","stringify","then","resp","json","getCurrentUser","console","log","res","currentUserStatus","userStatus","createContractor","user","user_id","id","projects_completed","password","services","response","createContractee","api","auth","createUser"],"mappings":"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","sourcesContent":["const API_ROOT = `http://localhost:3000/api/v1`;\nconst token = localStorage.getItem('token');\nconst URL = \"http://localhost:3000\"\n\nconst headers = {\n    'Content-Type': 'application/json',\n    Accepts: 'application/json',\n    Authorization: token\n};\n\n\nconst login = data => {\n    return fetch(`${API_ROOT}/auth`, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify(data)\n    }).then(resp => resp.json());\n};\n\nconst getCurrentUser = () => {\n    console.log(\"getting current user\", headers)\n    return fetch(`${API_ROOT}/current_user`, {\n        headers\n    }).then(res => {\n        console.log(res)\n        return res.json()\n    });\n};\n\nconst currentUserStatus = (userStatus) => {\n    return userStatus\n}\n\n\n\n\n\n\n\n// const createUser = (data) => {\n//     fetch(URL + \"/users\", {\n//         method: \"POST\",\n//         headers,\n//         body: JSON.stringify({\n//             username: data.username,\n//             email: data.email,\n//             city: data.city,\n//             country: data.country,\n//             phone: data.phone,\n//             contractee: data.contractee,\n//             contractor: data.contractor\n//         })\n//     })\n//         .then(response => {\n//             console.log(\"res.json\", response.json())\n//             response.json();\n//         })\n\n//         .then(user => {\n//             console.log(user);\n//             if (user.contractor) {\n//                 createContractor(user, data)\n//                 // .then(currentUser => {\n//                 //     onSetCurrentUser(\"contractor\")\n//                 // })\n//             } else {\n//                 createContractee(user, data)\n//                 //         .then(currentUser => {\n//                 //             onSetCurrentUser(\"contractee\")\n//                 //         })\n//             }\n//         })\n// }\n\nconst createContractor = (user, data) => {\n    console.log(\"creating contractor\")\n    fetch(URL + \"/contractors\", {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json',\n            Accepts: 'application/json'\n        },\n        body: JSON.stringify({\n            user_id: user.id,\n            projects_completed: 0,\n            password: data.password,\n            services: data.services\n        })\n    })\n        .then(response => response.json())\n        .then(currentUserStatus(\"contractor\"))\n}\n\nconst createContractee = (user, data) => {\n    console.log(\"creating contractee\")\n    fetch(URL + \"/contractees\", {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify({\n            user_id: user.id,\n            password: data.password\n        })\n    })\n        .then(response => response.json())\n        .then(currentUserStatus(\"contractee\"))\n}\nexport const api = {\n    auth: {\n        login,\n        getCurrentUser\n    },\n    // paintings: {\n    //   getPaintings\n    // }\n    user: {\n        createUser,\n        currentUserStatus\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// fetch(URL + \"/users\", {\n//     method: \"POST\",\n//     headers: {\n//         'Content-Type': 'application/json',\n//         Accepts: 'application/json'\n//     },\n//     body: JSON.stringify({\n//         username: username,\n//         email: email,\n//         city: city,\n//         country: country,\n//         phone: phone,\n//         contractee: contractee,\n//         contractor: contractor\n//     })\n// }).then(handleErrors)\n//     .then(response => response.json())\n//     .then(user => {\n//         console.log(user);\n//         if (contractor) {\n//             // createContractor(user, data)\n//             console.log(\"creating contractor\")\n//             fetch(URL + \"/contractors\", {\n//                 method: \"POST\",\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     Accepts: 'application/json'\n//                 },\n//                 body: JSON.stringify({\n//                     user_id: user.id,\n//                     projects_completed: 0,\n//                     password: password,\n//                     services: services\n//                 })\n//             })\n//                 .then(handleErrors)\n//                 .then(response => response.json())\n//                 .then(json => {\n//                     console.log(json)\n//                     this.currentUserStatus(\"contractor\")\n//                 })\n//             // .then(currentUser => {\n//             //     onSetCurrentUser(\"contractor\")\n//             // })\n\n//         } else {\n//             // createContractee(user, data)\n//             console.log(\"creating contractee\")\n//             fetch(URL + \"/contractees\", {\n//                 method: \"POST\",\n//                 headers: {\n//                     'Content-Type': 'application/json',\n//                     Accepts: 'application/json'\n//                 },\n//                 body: JSON.stringify({\n//                     user_id: user.id,\n//                     password: password\n//                 })\n//             }).then(handleErrors)\n//                 .then(response => response.json())\n//                 .then(json => {\n//                     console.log(json)\n//                     this.currentUserStatus(\"contractee\")\n//                 })\n//             //         .then(currentUser => {\n//             //             onSetCurrentUser(\"contractee\")\n//             //         }\n//         }\n//     })"]},"metadata":{},"sourceType":"module"}